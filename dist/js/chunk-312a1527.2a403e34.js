(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-312a1527"],{"33b8":function(e,a,t){"use strict";t.r(a);var i=t("7a23"),s=t("6ef0"),n=t.n(s),c=function(e){return Object(i["E"])("data-v-9be52326"),e=e(),Object(i["C"])(),e},l={class:"user-login-page"},o={class:"logo-content"},d=c((function(){return Object(i["j"])("img",{src:n.a,alt:""},null,-1)})),r=c((function(){return Object(i["j"])("p",null,"让每个人都能享受科技带来的乐趣",-1)})),p={class:"form-content"},u=c((function(){return Object(i["j"])("h3",{class:"form-title"},"小米账号注册",-1)})),m={class:"form-login"},O={class:"input-allow"},j=c((function(){return Object(i["j"])("p",null,[Object(i["l"])(" 已阅读并同意小米账号 "),Object(i["j"])("a",{href:"javascript:"},"用户协议"),Object(i["l"])("和 "),Object(i["j"])("a",{href:"javascript:"},"隐私政策")],-1)}));function b(e,a,t,s,n,c){var b=Object(i["I"])("user-header"),f=Object(i["I"])("router-link");return Object(i["B"])(),Object(i["i"])("div",l,[Object(i["m"])(b),Object(i["j"])("div",o,[Object(i["m"])(f,{to:"/home"},{default:Object(i["T"])((function(){return[d]})),_:1}),r]),Object(i["j"])("div",p,[u,Object(i["j"])("form",m,[Object(i["U"])(Object(i["j"])("input",{type:"text",name:"nick_name",id:"nick-name",class:Object(i["v"])(["input-item input-nick-name",{"input-fail":e.validateOptions.nickNameMessage}]),placeholder:"请输入昵称","onUpdate:modelValue":a[0]||(a[0]=function(a){return e.nickName=a}),onInput:a[1]||(a[1]=function(){return s.checkNickName&&s.checkNickName.apply(s,arguments)})},null,34),[[i["Q"],e.nickName]]),Object(i["U"])(Object(i["j"])("label",{for:"nick-name"},Object(i["M"])(e.validateOptions.nickNameMessage),513),[[i["R"],e.validateOptions.nickNameMessage]]),Object(i["U"])(Object(i["j"])("input",{type:"text",name:"email",id:"email",class:Object(i["v"])(["input-item input-phone",{"input-fail":e.validateOptions.emailMessage}]),placeholder:"请输入邮箱账号","onUpdate:modelValue":a[2]||(a[2]=function(a){return e.email=a}),onInput:a[3]||(a[3]=function(){return s.checkEmail&&s.checkEmail.apply(s,arguments)})},null,34),[[i["Q"],e.email]]),Object(i["U"])(Object(i["j"])("label",{for:"email"},Object(i["M"])(e.validateOptions.emailMessage),513),[[i["R"],e.validateOptions.emailMessage]]),Object(i["U"])(Object(i["j"])("input",{type:"password",name:"password",id:"password",class:Object(i["v"])(["input-item input-password",{"input-fail":e.validateOptions.passwordMessage}]),placeholder:"请输入密码","onUpdate:modelValue":a[4]||(a[4]=function(a){return e.password=a}),onInput:a[5]||(a[5]=function(){return s.checkPassword&&s.checkPassword.apply(s,arguments)})},null,34),[[i["Q"],e.password]]),Object(i["U"])(Object(i["j"])("label",{for:""},Object(i["M"])(e.validateOptions.passwordMessage),513),[[i["R"],e.validateOptions.passwordMessage]]),Object(i["h"])("",!0),Object(i["j"])("div",O,[Object(i["U"])(Object(i["j"])("input",{type:"checkbox",name:"check_rule",id:"rule","onUpdate:modelValue":a[6]||(a[6]=function(a){return e.checked=a})},null,512),[[i["P"],e.checked]]),j]),Object(i["j"])("input",{type:"button",class:Object(i["v"])(["input-item input-button",{"btn-disabled":1==e.registerStatus}]),value:"注册",onClick:a[7]||(a[7]=function(){return s.onRegister&&s.onRegister.apply(s,arguments)})},null,2)])])])}var f=t("5530"),v=(t("e7e5"),t("d399")),k=(t("498a"),t("ac1f"),t("00b4"),t("d3b7"),t("ee58")),g=t("21b5"),w=t("bc3a"),h=t.n(w),N=t("6c02"),M={components:{UserHeader:k["a"]},setup:function(){var e=Object(N["d"])(),a=Object(i["F"])({nickName:"",email:"",password:"",checked:!1,validateOptions:{nickNameMessage:"",emailMessage:"",passwordMessage:"",isNickNameValidated:!1,isEmailValidated:!1,isPasswordValidated:!1},registerStatus:0}),t=function(){a.validateOptions.isNickNameValidated=!0,""==a.nickName?(a.validateOptions.nickNameMessage="请输入昵称",a.validateOptions.isNickNameValidated=!1):a.validateOptions.nickNameMessage=""},s=function(){a.validateOptions.isEmailValidated=!0;var e=/^([a-zA-Z]|[0-9])(\w)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(""===a.email.trim())return a.validateOptions.emailMessage="请输入邮箱",void(a.validateOptions.isEmailValidated=!1);e.test(a.email)?a.validateOptions.emailMessage="":(a.validateOptions.emailMessage="输入邮箱格式不正确",a.validateOptions.isEmailValidated=!1)},n=function(){a.validateOptions.isPasswordValidated=!0;var e=/^(\w){6,20}$/;if(""===a.password.trim())return a.validateOptions.passwordMessage="请输入密码",void(a.validateOptions.isPasswordValidated=!1);e.test(a.password)?a.validateOptions.passwordMessage="":(a.validateOptions.passwordMessage="密码长度为6-20为 且只能包含字母数字和下划线",a.validateOptions.isPasswordValidated=!1)},c=function(){t(),s(),n(),Promise.resolve().then((function(){if(!a.validateOptions.isNickNameValidated)return v["a"].fail("请确认是否输入昵称"),void console.log("name fail");a.validateOptions.isEmailValidated?a.validateOptions.isPasswordValidated?a.checked?l():v["a"].fail("请确认勾选用户协议和隐私政策"):v["a"].fail("请确认是否输入密码"):v["a"].fail("请确认是否输入邮箱")}))},l=function(){a.registerStatus=1;var t={name:a.nickName,email:a.email,password:a.password,c_password:a.password};v["a"].loading("正在注册，请稍等"),g["a"].postRegister(t).then((function(t){a.registerStatus=2,localStorage.setItem("_user_token",t.data.access_token),h.a.defaults.headers.common["Authorization"]="Bearer "+t.data.access_token,v["a"].clear(),e.push({name:"home"})})).catch((function(e){a.registerStatus=3,v["a"].fail("注册失败"),console.log(e)}))};return Object(f["a"])(Object(f["a"])({},Object(i["N"])(a)),{},{checkNickName:t,checkEmail:s,checkPassword:n,onRegister:c})}},V=(t("d609"),t("6b0d")),U=t.n(V);const P=U()(M,[["render",b],["__scopeId","data-v-9be52326"]]);a["default"]=P},"93c8":function(e,a,t){},d609:function(e,a,t){"use strict";t("93c8")}}]);
//# sourceMappingURL=chunk-312a1527.2a403e34.js.map