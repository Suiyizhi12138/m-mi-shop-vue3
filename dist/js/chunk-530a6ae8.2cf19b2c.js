(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-530a6ae8"],{"13a0":function(e,t,s){},"40f3":function(e,t,s){"use strict";s.r(t);s("ac1f"),s("5319"),s("b0c0");var c=s("7a23"),n=function(e){return Object(c["E"])("data-v-7f52c2c9"),e=e(),Object(c["C"])(),e},r={class:"check-order-page"},i={key:0,class:"header-tips flex-between"},d=n((function(){return Object(c["j"])("div",{class:"tips-left"},[Object(c["j"])("i",{class:"iconfont icon-alert"})],-1)})),a=n((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"套装版充电显示0.01元，此价格非实际价格，仅做销售展示，实际价格以商城销售价为准")],-1)})),l=n((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"春节期间“家电类”家电类产品配送区域可能有调整，我的-我的客服-搜一搜，搜索“2022春节物流”查看详情。")],-1)})),o=n((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"广东、云南、黑龙江部分地区因国家疫情防控影响，商品到货存在一定延期，给您带来不便，敬请谅解")],-1)})),u=n((function(){return Object(c["j"])("i",{class:"iconfont icon-close"},null,-1)})),j=[u],b={class:"address-choice flex-between"},O={class:"user-info"},f={class:"user-address"},p={key:0,class:"address-tips"},m={key:1,class:"address-tips",style:{color:"#ff6700"}},h=n((function(){return Object(c["j"])("div",{class:"address-choice-right flex-column"},[Object(c["j"])("i",{class:"iconfont icon-arrowright",style:{color:"#ff6700"}})],-1)})),v={class:"order-list-container"},w={class:"order-list"},C={class:"order-list-item flex-between"},A={class:"product-img-box"},_=["src"],g={class:"product-name-box flex-wrap"},S={class:"product-price-box"},k=Object(c["k"])('<div class="service-list-container" data-v-7f52c2c9><ul class="service-list" data-v-7f52c2c9><li class="service-list-item flex-between" data-v-7f52c2c9><div class="item-title" data-v-7f52c2c9>运费</div><div class="item-detail" data-v-7f52c2c9>包邮</div></li><li class="service-list-item flex-between" data-v-7f52c2c9><div class="item-title" data-v-7f52c2c9>电子普通发票</div><div class="item-detail" data-v-7f52c2c9>个人</div></li><li class="service-list-item flex-between" data-v-7f52c2c9><div class="item-title" data-v-7f52c2c9>优惠券</div><div class="item-detail" data-v-7f52c2c9>无可用</div></li></ul></div>',1),x={class:"sum-price-container"},y={class:"sum-item sum-price"},I=n((function(){return Object(c["j"])("span",{class:"price-title"},"商品价格：",-1)})),M={class:"price-number"},U=n((function(){return Object(c["j"])("div",{class:"sum-item sum-express"},[Object(c["j"])("span",{class:"price-title"},"配送费用："),Object(c["j"])("span",{class:"price-number"},"0.00")],-1)})),E={class:"check-order-footer"},F={key:0,class:"footer-address"},B={class:"footer-btn-box flex-start"},T={class:"footer-total"},D={class:"total-price"};function N(e,t,s,n,u,N){var Q=Object(c["I"])("address-header"),V=Object(c["I"])("van-swipe-item"),H=Object(c["I"])("van-swipe"),J=Object(c["I"])("address-choice"),P=Object(c["I"])("van-popup");return Object(c["B"])(),Object(c["i"])("div",r,[Object(c["m"])(Q,{title:"用户结算"}),e.isShowTips?(Object(c["B"])(),Object(c["i"])("div",i,[d,Object(c["m"])(H,{class:"swipe-tips",autoplay:"3000","show-indicators":!1,duration:"1000",vertical:""},{default:Object(c["T"])((function(){return[Object(c["m"])(V,null,{default:Object(c["T"])((function(){return[a]})),_:1}),Object(c["m"])(V,null,{default:Object(c["T"])((function(){return[l]})),_:1}),Object(c["m"])(V,null,{default:Object(c["T"])((function(){return[o]})),_:1})]})),_:1}),Object(c["j"])("div",{class:"tips-close",onClick:t[0]||(t[0]=function(){return n.closeTips&&n.closeTips.apply(n,arguments)})},j)])):Object(c["h"])("",!0),Object(c["j"])("div",b,[Object(c["j"])("div",{class:"address-choice-left flex-wrap",onClick:t[1]||(t[1]=function(){return n.showAddressChoice&&n.showAddressChoice.apply(n,arguments)})},[Object(c["j"])("div",O,[Object(c["j"])("span",null,Object(c["M"])(n.userInfo?n.userInfo.personal_info.nick_name:""),1),Object(c["j"])("span",null,Object(c["M"])(n.userInfo?n.userInfo.phone:""),1)]),Object(c["j"])("div",f,[e.address?(Object(c["B"])(),Object(c["i"])("div",p,Object(c["M"])(e.address.district)+" "+Object(c["M"])(e.address.address),1)):(Object(c["B"])(),Object(c["i"])("div",m,"请选择收货地址"))])]),h]),Object(c["j"])("div",v,[Object(c["j"])("ul",w,[(Object(c["B"])(!0),Object(c["i"])(c["a"],null,Object(c["H"])(n.buyItems,(function(e){return Object(c["B"])(),Object(c["i"])("li",C,[Object(c["j"])("div",A,[Object(c["j"])("img",{src:e.product_sku.imgs[0],alt:""},null,8,_)]),Object(c["j"])("div",g,Object(c["M"])(e.product_sku.product.zh_name)+" "+Object(c["M"])(e.product_sku.name.replace(/-/," ")),1),Object(c["j"])("div",S,Object(c["M"])(e.amount)+"x"+Object(c["M"])(e.product_sku.price),1)])})),256))])]),k,Object(c["j"])("div",x,[Object(c["j"])("div",y,[I,Object(c["j"])("span",M,Object(c["M"])(n.totalPrice?n.totalPrice:""),1)]),U]),Object(c["j"])("footer",E,[e.address?(Object(c["B"])(),Object(c["i"])("div",F," 配送至 "+Object(c["M"])(e.address.district)+" "+Object(c["M"])(e.address.address),1)):Object(c["h"])("",!0),Object(c["j"])("div",B,[Object(c["j"])("div",T,[Object(c["l"])(" 共"+Object(c["M"])(n.totalAmount)+"件 合计：",1),Object(c["j"])("span",D,Object(c["M"])(n.totalPrice),1)]),Object(c["j"])("div",{class:"footer-btn flex-column",onClick:t[2]||(t[2]=function(e){return n.submitOrder()})},"去付款")])]),Object(c["m"])(P,{position:"left",show:e.isShowAddressChoice,"onUpdate:show":t[3]||(t[3]=function(t){return e.isShowAddressChoice=t}),style:{width:"100%",height:"100%"}},{default:Object(c["T"])((function(){return[Object(c["m"])(J,{onCloseAddressChoice:n.handleCloseAddressChoice,onSelectOrderAddress:n.getAddressFromChild},null,8,["onCloseAddressChoice","onSelectOrderAddress"])]})),_:1},8,["show"])])}var Q=s("5530"),V=(s("e7e5"),s("d399")),H=(s("d3b7"),s("159b"),s("e9c4"),s("99c8")),J=function(e){return Object(c["E"])("data-v-3a5b2b20"),e=e(),Object(c["C"])(),e},P={class:"user-address-page"},z={class:"cart-header"},K=J((function(){return Object(c["j"])("i",{class:"iconfont icon-arrow-left"},null,-1)})),R=[K],q=J((function(){return Object(c["j"])("span",{class:"header-title"},"选择收货地址",-1)})),G={class:"address-list-container"},L={class:"address-list"},W={class:"address-item-header flex-between"},X={class:"header-left"},Y={class:"address-tag"},Z=["onClick"],$=["onClick"],ee={class:"center-left"},te=J((function(){return Object(c["j"])("div",{class:"center-right"},[Object(c["j"])("i",{class:"iconfont icon-arrowright"})],-1)})),se={class:"li-line"},ce={key:1,class:"footer"},ne=Object(c["l"])("+新建收货地址");function re(e,t,s,n,r,i){var d=Object(c["I"])("user-address-edit"),a=Object(c["I"])("router-link");return Object(c["B"])(),Object(c["i"])("div",P,[Object(c["j"])("header",z,[Object(c["j"])("a",{href:"javascript:",class:"link-back",onClick:t[0]||(t[0]=function(){return n.closeAddressChoice&&n.closeAddressChoice.apply(n,arguments)})},R),q]),Object(c["j"])("div",G,[Object(c["j"])("ul",L,[(Object(c["B"])(!0),Object(c["i"])(c["a"],null,Object(c["H"])(e.addresses,(function(t,s){return Object(c["B"])(),Object(c["i"])("li",{class:"address-item",key:s},[Object(c["j"])("div",W,[Object(c["j"])("div",X,[Object(c["l"])(Object(c["M"])(t.contact_name)+Object(c["M"])(t.contact_phone),1),Object(c["j"])("span",Y," "+Object(c["M"])(t.tag),1)]),Object(c["j"])("div",{class:"header-right",onClick:function(e){return n.deleteAddress(t.id)}},"删除",8,Z)]),Object(c["j"])("div",{class:"address-item-center flex-between",onClick:function(e){return n.selectOrderAddress(s)}},[Object(c["j"])("div",ee,[Object(c["j"])("p",null,Object(c["M"])(t.district),1),Object(c["j"])("p",null,Object(c["M"])(t.address),1)]),te],8,$),Object(c["U"])(Object(c["j"])("hr",se,null,512),[[c["R"],e.addresses.length>0]])])})),128))])]),e.isShowEidtAddress?(Object(c["B"])(),Object(c["g"])(d,{key:0,address:e.addresses[e.currentEditIndex],onCloseForm:n.handleCloseForm},null,8,["address","onCloseForm"])):Object(c["h"])("",!0),e.isShowEidtAddress?Object(c["h"])("",!0):(Object(c["B"])(),Object(c["i"])("footer",ce,[Object(c["m"])(a,{class:"btn-add",to:"/user/address/new"},{default:Object(c["T"])((function(){return[ne]})),_:1})]))])}var ie=s("6e6b"),de=s("21b5"),ae={components:{AddressHeader:H["a"],UserAddressEdit:ie["a"]},setup:function(e,t){var s=t.emit,n=Object(c["F"])({addresses:[],isShowEidtAddress:!1,currentEditIndex:0,selectedAddress:""});Object(c["z"])((function(){de["a"].getUserAddresses().then((function(e){n.addresses=e.data}))}));var r=function(e){V["a"].loading("正在删除"),de["a"].deleteAddress(e).then((function(e){200==e.status&&(window.location.reload(),V["a"].clear())}))},i=function(e){n.isShowEidtAddress=!0,n.currentEditIndex=e},d=function(){n.isShowEidtAddress=!1},a=function(e){s("selectOrderAddress",n.addresses[e]),s("closeAddressChoice")},l=function(){s("closeAddressChoice")};return Object(Q["a"])(Object(Q["a"])({},Object(c["N"])(n)),{},{showEditAddress:i,handleCloseForm:d,deleteAddress:r,closeAddressChoice:l,selectOrderAddress:a})}},le=(s("52a0"),s("6b0d")),oe=s.n(le);const ue=oe()(ae,[["render",re],["__scopeId","data-v-3a5b2b20"]]);var je=ue,be=s("6c02"),Oe=s("5502"),fe={components:{AddressHeader:H["a"],AddressChoice:je},setup:function(){var e=Object(c["F"])({isShowTips:!0,isShowAddressChoice:!1,address:""}),t=Object(be["d"])(),s=Object(Oe["b"])(),n=function(){e.isShowTips=!1},r=function(){e.isShowAddressChoice=!0},i=Object(c["e"])((function(){return s.getters.buyItems?s.getters.buyItems:JSON.parse(localStorage.getItem("_buy_items"))})),d=Object(c["e"])((function(){var e=0;return i._value.forEach((function(t){e+=t.amount*t.product_sku.price})),e})),a=Object(c["e"])((function(){var e=0;return i._value.forEach((function(t){e+=t.amount})),e})),l=function(){if(e.address){var s={address_id:e.address.id,items:i._value};V["a"].loading("正在创建订单"),de["a"].addOrder(s).then((function(e){200==e.status&&(localStorage.removeItem("_full_cart"),localStorage.removeItem("_buy_items"),localStorage.setItem(""+e.data[0].no,JSON.stringify({created_at:Date.now()})),V["a"].clear(),t.push("/pay_order/"+e.data[0].no))}))}else e.isShowAddressChoice=!0},o=Object(c["e"])((function(){if(s.getters.userInfo)return s.getters.userInfo})),u=function(){e.isShowAddressChoice=!1},j=function(t){e.address=t};return Object(Q["a"])(Object(Q["a"])({},Object(c["N"])(e)),{},{closeTips:n,showAddressChoice:r,submitOrder:l,userInfo:o,handleCloseAddressChoice:u,getAddressFromChild:j,buyItems:i,totalPrice:d,totalAmount:a})}};s("717b");const pe=oe()(fe,[["render",N],["__scopeId","data-v-7f52c2c9"]]);t["default"]=pe},"4e5d":function(e,t,s){"use strict";s("bf9c")},"52a0":function(e,t,s){"use strict";s("bc38")},"6e6b":function(e,t,s){"use strict";var c=s("7a23"),n=function(e){return Object(c["E"])("data-v-23c4f97e"),e=e(),Object(c["C"])(),e},r={class:"user-address-edit"},i={class:"cart-header"},d=n((function(){return Object(c["j"])("i",{class:"iconfont icon-arrow-left"},null,-1)})),a=[d],l=n((function(){return Object(c["j"])("span",{class:"header-title"},"编辑收货地址",-1)})),o={class:"form-container"},u={class:"form-add-address"},j={class:"form-item flex-start"},b=n((function(){return Object(c["j"])("div",{class:"item-label"},"收货人：",-1)})),O={class:"item-input"},f=n((function(){return Object(c["j"])("hr",null,null,-1)})),p={class:"form-item flex-start"},m=n((function(){return Object(c["j"])("div",{class:"item-label"},"手机号码：",-1)})),h={class:"item-input"},v=n((function(){return Object(c["j"])("hr",null,null,-1)})),w={class:"form-item flex-start"},C=n((function(){return Object(c["j"])("div",{class:"item-label"},"所在地区：",-1)})),A=n((function(){return Object(c["j"])("hr",null,null,-1)})),_={class:"form-item flex-start"},g=n((function(){return Object(c["j"])("div",{class:"item-label"},"详细信息：",-1)})),S={class:"item-input"},k=n((function(){return Object(c["j"])("hr",null,null,-1)})),x={class:"form-item flex-start"},y=n((function(){return Object(c["j"])("div",{class:"item-label"},"地址标签：",-1)})),I={class:"item-input"},M=n((function(){return Object(c["j"])("hr",null,null,-1)})),U={class:"footer"};function E(e,t,s,n,d,E){var F=Object(c["I"])("user-address-select");return Object(c["B"])(),Object(c["i"])("div",r,[Object(c["j"])("header",i,[Object(c["j"])("a",{href:"javascript:",class:"link-back",onClick:t[0]||(t[0]=function(){return n.closeForm&&n.closeForm.apply(n,arguments)})},a),l]),Object(c["j"])("div",o,[Object(c["j"])("form",u,[Object(c["j"])("div",j,[b,Object(c["j"])("div",O,[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-name",placeholder:"请输入真实姓名","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.address.contact_name=e})},null,512),[[c["Q"],s.address.contact_name]])])]),f,Object(c["j"])("div",p,[m,Object(c["j"])("div",h,[Object(c["U"])(Object(c["j"])("input",{type:"tel",class:"input-item input-phone",placeholder:"手机号","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.address.contact_phone=e}),maxlength:"11",autocomplete:"off"},null,512),[[c["Q"],s.address.contact_phone]])])]),v,Object(c["j"])("div",w,[C,Object(c["j"])("div",{class:"item-input item-district",onClick:t[4]||(t[4]=function(){return n.showSelect&&n.showSelect.apply(n,arguments)})},[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-district",placeholder:"输入小区、街道信息","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.address.district=e}),disabled:""},null,512),[[c["Q"],s.address.district]])])]),A,Object(c["j"])("div",_,[g,Object(c["j"])("div",S,[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-detail",placeholder:"详细地址","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.address.address=e})},null,512),[[c["Q"],s.address.address]])])]),k,Object(c["j"])("div",x,[y,Object(c["j"])("div",I,[Object(c["U"])(Object(c["j"])("input",{type:"text",classs:"input-item input-detail",placeholder:"地址标签","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.address.tag=e})},null,512),[[c["Q"],s.address.tag]])])]),M])]),Object(c["U"])(Object(c["m"])(F,{onKeepDistrict:n.getDistrictFromChild,onCloseSelect:n.handleClose},null,8,["onKeepDistrict","onCloseSelect"]),[[c["R"],e.isShowSelectComponent]]),Object(c["j"])("footer",U,[Object(c["j"])("a",{href:"javascript:",class:"btn-add",onClick:t[7]||(t[7]=function(){return n.saveAddress&&n.saveAddress.apply(n,arguments)})},"保存地址")])])}var F=s("5530"),B=(s("e7e5"),s("d399")),T=s("9744"),D=s("21b5"),N=s("6c02"),Q={props:{address:{required:!0,type:Object}},components:{UserAddressSelect:T["a"]},setup:function(e,t){var s=t.emit,n=Object(c["F"])({isShowSelectComponent:!1}),r=(Object(N["d"])(),function(){s("closeForm")}),i=function(){n.isShowSelectComponent=!0},d=function(){n.isShowSelectComponent=!1},a=function(t){e.address.district=t},l=function(){var t={name:e.address.contact_name,phone:e.address.contact_phone,district:e.address.district,address:e.address.address,tag:e.address.tag};B["a"].loading("正在保存"),D["a"].updateAddress(t).then((function(e){200==e.status&&r(),B["a"].clear()}))};return Object(F["a"])(Object(F["a"])({},Object(c["N"])(n)),{},{closeForm:r,handleClose:d,getDistrictFromChild:a,showSelect:i,saveAddress:l})}},V=(s("4e5d"),s("6b0d")),H=s.n(V);const J=H()(Q,[["render",E],["__scopeId","data-v-23c4f97e"]]);t["a"]=J},"717b":function(e,t,s){"use strict";s("13a0")},bc38:function(e,t,s){},bf9c:function(e,t,s){}}]);
//# sourceMappingURL=chunk-530a6ae8.2cf19b2c.js.map