(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98d658ac"],{"40f3":function(e,t,s){"use strict";s.r(t);s("ac1f"),s("5319"),s("b0c0");var c=s("7a23"),r=function(e){return Object(c["E"])("data-v-5712c028"),e=e(),Object(c["C"])(),e},n={class:"check-order-page"},i={key:0,class:"header-tips flex-between"},d=r((function(){return Object(c["j"])("div",{class:"tips-left"},[Object(c["j"])("i",{class:"iconfont icon-alert"})],-1)})),a=r((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"套装版充电显示0.01元，此价格非实际价格，仅做销售展示，实际价格以商城销售价为准")],-1)})),o=r((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"春节期间“家电类”家电类产品配送区域可能有调整，我的-我的客服-搜一搜，搜索“2022春节物流”查看详情。")],-1)})),l=r((function(){return Object(c["j"])("div",{class:"swipe-item-content flex-center"},[Object(c["j"])("p",null,"广东、云南、黑龙江部分地区因国家疫情防控影响，商品到货存在一定延期，给您带来不便，敬请谅解")],-1)})),u=r((function(){return Object(c["j"])("i",{class:"iconfont icon-close"},null,-1)})),j=[u],b={class:"address-choice flex-between"},O={class:"user-info"},f={class:"user-address"},p={key:0,class:"address-tips"},m={key:1,class:"address-tips"},v={key:2,class:"address-tips",style:{color:"#ff6700"}},h=r((function(){return Object(c["j"])("div",{class:"address-choice-right flex-column"},[Object(c["j"])("i",{class:"iconfont icon-arrowright",style:{color:"#ff6700"}})],-1)})),A={class:"order-list-container"},_={key:0,class:"order-list"},w={class:"product-img-box"},y=["src"],g={class:"product-name-box flex-wrap"},C={class:"product-price-box"},I={key:1,class:"order-list"},S={class:"order-list-item flex-between"},k={class:"product-img-box"},x=["src"],M={class:"product-name-box flex-wrap"},B={class:"product-price-box"},U=Object(c["k"])('<div class="service-list-container" data-v-5712c028><ul class="service-list" data-v-5712c028><li class="service-list-item flex-between" data-v-5712c028><div class="item-title" data-v-5712c028>运费</div><div class="item-detail" data-v-5712c028>包邮</div></li><li class="service-list-item flex-between" data-v-5712c028><div class="item-title" data-v-5712c028>电子普通发票</div><div class="item-detail" data-v-5712c028>个人</div></li><li class="service-list-item flex-between" data-v-5712c028><div class="item-title" data-v-5712c028>优惠券</div><div class="item-detail" data-v-5712c028>无可用</div></li></ul></div>',1),E={class:"sum-price-container"},F={class:"sum-item sum-price"},T=r((function(){return Object(c["j"])("span",{class:"price-title"},"商品价格：",-1)})),N={class:"price-number"},J=r((function(){return Object(c["j"])("div",{class:"sum-item sum-express"},[Object(c["j"])("span",{class:"price-title"},"配送费用："),Object(c["j"])("span",{class:"price-number"},"0.00")],-1)})),Q={class:"check-order-footer"},V={key:0,class:"footer-address"},D={key:1,class:"footer-address"},H={class:"footer-btn-box flex-start"},P={class:"footer-total"},z={class:"total-price"};function K(e,t,s,r,u,K){var R=Object(c["I"])("address-header"),q=Object(c["I"])("van-swipe-item"),G=Object(c["I"])("van-swipe"),L=Object(c["I"])("address-choice"),W=Object(c["I"])("van-popup");return Object(c["B"])(),Object(c["i"])("div",n,[Object(c["m"])(R,{title:"用户结算"}),e.isShowTips?(Object(c["B"])(),Object(c["i"])("div",i,[d,Object(c["m"])(G,{class:"swipe-tips",autoplay:"3000","show-indicators":!1,duration:"1000",vertical:""},{default:Object(c["T"])((function(){return[Object(c["m"])(q,null,{default:Object(c["T"])((function(){return[a]})),_:1}),Object(c["m"])(q,null,{default:Object(c["T"])((function(){return[o]})),_:1}),Object(c["m"])(q,null,{default:Object(c["T"])((function(){return[l]})),_:1})]})),_:1}),Object(c["j"])("div",{class:"tips-close",onClick:t[0]||(t[0]=function(){return r.closeTips&&r.closeTips.apply(r,arguments)})},j)])):Object(c["h"])("",!0),Object(c["j"])("div",b,[Object(c["j"])("div",{class:"address-choice-left flex-wrap",onClick:t[1]||(t[1]=function(){return r.showAddressChoice&&r.showAddressChoice.apply(r,arguments)})},[Object(c["j"])("div",O,[Object(c["j"])("span",null,Object(c["M"])(r.userInfo?r.userInfo.personal_info.nick_name:""),1),Object(c["j"])("span",null,Object(c["M"])(r.userInfo?r.userInfo.phone:""),1)]),Object(c["j"])("div",f,[r.computeAddress?(Object(c["B"])(),Object(c["i"])("div",p,Object(c["M"])(r.computeAddress?r.computeAddress.district:"")+" "+Object(c["M"])(r.computeAddress?r.computeAddress.address:""),1)):Object(c["h"])("",!0),e.currentAddress?(Object(c["B"])(),Object(c["i"])("div",m,Object(c["M"])(e.currentAddress?e.currentAddress.district:"")+" "+Object(c["M"])(e.currentAddress?e.currentAddress.address:""),1)):Object(c["h"])("",!0),e.currentAddress||r.computeAddress?Object(c["h"])("",!0):(Object(c["B"])(),Object(c["i"])("div",v,"请选择收货地址"))])]),h]),Object(c["j"])("div",A,[Array.isArray(r.buyItems)&&r.buyItems.length>0?(Object(c["B"])(),Object(c["i"])("ul",_,[(Object(c["B"])(!0),Object(c["i"])(c["a"],null,Object(c["H"])(r.buyItems,(function(e){return Object(c["B"])(),Object(c["i"])("li",{class:"order-list-item flex-between",key:e.id},[Object(c["j"])("div",w,[Object(c["j"])("img",{src:e.product_sku.imgs[0],alt:""},null,8,y)]),Object(c["j"])("div",g,Object(c["M"])(e.product_sku.product.zh_name)+" "+Object(c["M"])(e.product_sku.name.replace(/-/," ")),1),Object(c["j"])("div",C,Object(c["M"])(e.amount)+"x"+Object(c["M"])(e.product_sku.price),1)])})),128))])):(Object(c["B"])(),Object(c["i"])("ul",I,[Object(c["j"])("li",S,[Object(c["j"])("div",k,[Object(c["j"])("img",{src:r.buyItem?r.buyItem.product_sku.imgs[0]:"",alt:""},null,8,x)]),Object(c["j"])("div",M,Object(c["M"])(r.buyItem?r.buyItem.name:"")+" "+Object(c["M"])(r.buyItem?r.buyItem.product_sku.name.replace(/-/," "):""),1),Object(c["j"])("div",B,Object(c["M"])(r.buyItem?r.buyItem.amount:"")+"x"+Object(c["M"])(r.buyItem?r.buyItem.product_sku.price:""),1)])]))]),U,Object(c["j"])("div",E,[Object(c["j"])("div",F,[T,Object(c["j"])("span",N,Object(c["M"])(r.totalPrice?r.totalPrice:""),1)]),J]),Object(c["j"])("footer",Q,[r.computeAddress?(Object(c["B"])(),Object(c["i"])("div",V,"配送至 "+Object(c["M"])(r.computeAddress.district)+" "+Object(c["M"])(r.computeAddress.address),1)):Object(c["h"])("",!0),e.currentAddress?(Object(c["B"])(),Object(c["i"])("div",D,"配送至 "+Object(c["M"])(e.currentAddress.district)+" "+Object(c["M"])(e.currentAddress.address),1)):Object(c["h"])("",!0),Object(c["j"])("div",H,[Object(c["j"])("div",P,[Object(c["l"])(" 共"+Object(c["M"])(r.totalAmount?r.totalAmount:0)+"件 合计： ",1),Object(c["j"])("span",z,Object(c["M"])(r.totalPrice),1)]),Object(c["j"])("div",{class:"footer-btn flex-column",onClick:t[2]||(t[2]=function(e){return r.submitOrder()})},"去付款")])]),Object(c["m"])(W,{position:"left",show:e.isShowAddressChoice,"onUpdate:show":t[3]||(t[3]=function(t){return e.isShowAddressChoice=t}),style:{width:"100%",height:"100%"}},{default:Object(c["T"])((function(){return[Object(c["m"])(L,{onCloseAddressChoice:r.handleCloseAddressChoice,onSelectOrderAddress:r.getAddressFromChild},null,8,["onCloseAddressChoice","onSelectOrderAddress"])]})),_:1},8,["show"])])}var R=s("5530"),q=(s("e7e5"),s("d399")),G=(s("d3b7"),s("159b"),s("99c8")),L=function(e){return Object(c["E"])("data-v-3a5b2b20"),e=e(),Object(c["C"])(),e},W={class:"user-address-page"},X={class:"cart-header"},Y=L((function(){return Object(c["j"])("i",{class:"iconfont icon-arrow-left"},null,-1)})),Z=[Y],$=L((function(){return Object(c["j"])("span",{class:"header-title"},"选择收货地址",-1)})),ee={class:"address-list-container"},te={class:"address-list"},se={class:"address-item-header flex-between"},ce={class:"header-left"},re={class:"address-tag"},ne=["onClick"],ie=["onClick"],de={class:"center-left"},ae=L((function(){return Object(c["j"])("div",{class:"center-right"},[Object(c["j"])("i",{class:"iconfont icon-arrowright"})],-1)})),oe={class:"li-line"},le={key:1,class:"footer"},ue=Object(c["l"])("+新建收货地址");function je(e,t,s,r,n,i){var d=Object(c["I"])("user-address-edit"),a=Object(c["I"])("router-link");return Object(c["B"])(),Object(c["i"])("div",W,[Object(c["j"])("header",X,[Object(c["j"])("a",{href:"javascript:",class:"link-back",onClick:t[0]||(t[0]=function(){return r.closeAddressChoice&&r.closeAddressChoice.apply(r,arguments)})},Z),$]),Object(c["j"])("div",ee,[Object(c["j"])("ul",te,[(Object(c["B"])(!0),Object(c["i"])(c["a"],null,Object(c["H"])(e.addresses,(function(t,s){return Object(c["B"])(),Object(c["i"])("li",{class:"address-item",key:s},[Object(c["j"])("div",se,[Object(c["j"])("div",ce,[Object(c["l"])(Object(c["M"])(t.contact_name)+Object(c["M"])(t.contact_phone),1),Object(c["j"])("span",re," "+Object(c["M"])(t.tag),1)]),Object(c["j"])("div",{class:"header-right",onClick:function(e){return r.deleteAddress(t.id)}},"删除",8,ne)]),Object(c["j"])("div",{class:"address-item-center flex-between",onClick:function(e){return r.selectOrderAddress(s)}},[Object(c["j"])("div",de,[Object(c["j"])("p",null,Object(c["M"])(t.district),1),Object(c["j"])("p",null,Object(c["M"])(t.address),1)]),ae],8,ie),Object(c["U"])(Object(c["j"])("hr",oe,null,512),[[c["R"],e.addresses.length>0]])])})),128))])]),e.isShowEidtAddress?(Object(c["B"])(),Object(c["g"])(d,{key:0,address:e.addresses[e.currentEditIndex],onCloseForm:r.handleCloseForm},null,8,["address","onCloseForm"])):Object(c["h"])("",!0),e.isShowEidtAddress?Object(c["h"])("",!0):(Object(c["B"])(),Object(c["i"])("footer",le,[Object(c["m"])(a,{class:"btn-add",to:"/user/address/new"},{default:Object(c["T"])((function(){return[ue]})),_:1})]))])}var be=s("6e6b"),Oe=s("21b5"),fe={components:{AddressHeader:G["a"],UserAddressEdit:be["a"]},setup:function(e,t){var s=t.emit,r=Object(c["F"])({addresses:[],isShowEidtAddress:!1,currentEditIndex:0,selectedAddress:""});Object(c["z"])((function(){Oe["a"].getUserAddresses().then((function(e){r.addresses=e.data}))}));var n=function(e){q["a"].loading("正在删除"),Oe["a"].deleteAddress(e).then((function(e){200==e.status&&(window.location.reload(),q["a"].clear())}))},i=function(e){r.isShowEidtAddress=!0,r.currentEditIndex=e},d=function(){r.isShowEidtAddress=!1},a=function(e){s("selectOrderAddress",r.addresses[e]),s("closeAddressChoice")},o=function(){s("closeAddressChoice")};return Object(R["a"])(Object(R["a"])({},Object(c["N"])(r)),{},{showEditAddress:i,handleCloseForm:d,deleteAddress:n,closeAddressChoice:o,selectOrderAddress:a})}},pe=(s("52a0"),s("6b0d")),me=s.n(pe);const ve=me()(fe,[["render",je],["__scopeId","data-v-3a5b2b20"]]);var he=ve,Ae=s("6c02"),_e=s("5502"),we=s("5308"),ye={components:{AddressHeader:G["a"],AddressChoice:he},setup:function(){var e=Object(c["F"])({isShowTips:!1,isShowAddressChoice:!1,currentAddress:""}),t=Object(Ae["d"])(),s=Object(_e["b"])(),r=function(){e.isShowTips=!1},n=function(){o._value||(e.isShowAddressChoice=!0)},i=Object(c["e"])((function(){return s.getters.buyItems?s.getters.buyItems:we["a"].getStore("_buy_items")})),d=Object(c["e"])((function(){var e=0;return l._value?(e=l._value.amount*l._value.product_sku.price,e):Array.isArray(i._value)&&i._value.length>0?(i._value.forEach((function(t){e+=t.amount*t.product_sku.price})),e):e=0})),a=Object(c["e"])((function(){var e=0;return l._value?(e=l._value.amount,e):Array.isArray(i._value)&&i._value.length>0?(i._value.forEach((function(t){e+=t.amount})),e):void 0})),o=Object(c["e"])((function(){return JSON.parse(sessionStorage.getItem("_selected_address"))})),l=Object(c["e"])((function(){return we["a"].getStore("_buy_item")})),u=function(){o._value||e.currentAddress?o._value?j(o._value):j(e.currentAddress):e.isShowAddressChoice=!0},j=function(e){var s={},c=[];Array.isArray(i._value)&&i._value.length>0?s={address_id:e.id,items:i._value}:(c.push(l._value),s={address_id:e.id,items:c}),q["a"].loading("正在创建订单"),Oe["a"].addOrder(s).then((function(e){200==e.status&&(localStorage.removeItem("_full_cart"),localStorage.removeItem("_buy_items"),sessionStorage.removeItem("_buy_item"),q["a"].clear(),t.push("/pay_order/"+e.data[0].no))})).catch((function(e){console.log(e),500==e.status&&q["a"].fail("系统内部错误")}))},b=Object(c["e"])((function(){if(s.getters.userInfo)return s.getters.userInfo})),O=function(){e.isShowAddressChoice=!1},f=function(t){e.currentAddress=t};return Object(R["a"])(Object(R["a"])({},Object(c["N"])(e)),{},{closeTips:r,showAddressChoice:n,submitOrder:u,userInfo:b,handleCloseAddressChoice:O,getAddressFromChild:f,buyItems:i,totalPrice:d,totalAmount:a,buyItem:l,computeAddress:o})}};s("6bf5");const ge=me()(ye,[["render",K],["__scopeId","data-v-5712c028"]]);t["default"]=ge},"4e5d":function(e,t,s){"use strict";s("bf9c")},"52a0":function(e,t,s){"use strict";s("bc38")},5308:function(e,t,s){"use strict";s("e9c4");var c={setStore:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},getStore:function(e){return JSON.parse(sessionStorage.getItem(e))},removeStore:function(e){sessionStorage.removeItem(e)},isNull:function(e){return!sessionStorage.getItem(e)}};t["a"]=c},"6bf5":function(e,t,s){"use strict";s("7dda")},"6e6b":function(e,t,s){"use strict";var c=s("7a23"),r=function(e){return Object(c["E"])("data-v-23c4f97e"),e=e(),Object(c["C"])(),e},n={class:"user-address-edit"},i={class:"cart-header"},d=r((function(){return Object(c["j"])("i",{class:"iconfont icon-arrow-left"},null,-1)})),a=[d],o=r((function(){return Object(c["j"])("span",{class:"header-title"},"编辑收货地址",-1)})),l={class:"form-container"},u={class:"form-add-address"},j={class:"form-item flex-start"},b=r((function(){return Object(c["j"])("div",{class:"item-label"},"收货人：",-1)})),O={class:"item-input"},f=r((function(){return Object(c["j"])("hr",null,null,-1)})),p={class:"form-item flex-start"},m=r((function(){return Object(c["j"])("div",{class:"item-label"},"手机号码：",-1)})),v={class:"item-input"},h=r((function(){return Object(c["j"])("hr",null,null,-1)})),A={class:"form-item flex-start"},_=r((function(){return Object(c["j"])("div",{class:"item-label"},"所在地区：",-1)})),w=r((function(){return Object(c["j"])("hr",null,null,-1)})),y={class:"form-item flex-start"},g=r((function(){return Object(c["j"])("div",{class:"item-label"},"详细信息：",-1)})),C={class:"item-input"},I=r((function(){return Object(c["j"])("hr",null,null,-1)})),S={class:"form-item flex-start"},k=r((function(){return Object(c["j"])("div",{class:"item-label"},"地址标签：",-1)})),x={class:"item-input"},M=r((function(){return Object(c["j"])("hr",null,null,-1)})),B={class:"footer"};function U(e,t,s,r,d,U){var E=Object(c["I"])("user-address-select");return Object(c["B"])(),Object(c["i"])("div",n,[Object(c["j"])("header",i,[Object(c["j"])("a",{href:"javascript:",class:"link-back",onClick:t[0]||(t[0]=function(){return r.closeForm&&r.closeForm.apply(r,arguments)})},a),o]),Object(c["j"])("div",l,[Object(c["j"])("form",u,[Object(c["j"])("div",j,[b,Object(c["j"])("div",O,[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-name",placeholder:"请输入真实姓名","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.address.contact_name=e})},null,512),[[c["Q"],s.address.contact_name]])])]),f,Object(c["j"])("div",p,[m,Object(c["j"])("div",v,[Object(c["U"])(Object(c["j"])("input",{type:"tel",class:"input-item input-phone",placeholder:"手机号","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.address.contact_phone=e}),maxlength:"11",autocomplete:"off"},null,512),[[c["Q"],s.address.contact_phone]])])]),h,Object(c["j"])("div",A,[_,Object(c["j"])("div",{class:"item-input item-district",onClick:t[4]||(t[4]=function(){return r.showSelect&&r.showSelect.apply(r,arguments)})},[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-district",placeholder:"输入小区、街道信息","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.address.district=e}),disabled:""},null,512),[[c["Q"],s.address.district]])])]),w,Object(c["j"])("div",y,[g,Object(c["j"])("div",C,[Object(c["U"])(Object(c["j"])("input",{type:"text",class:"input-item input-detail",placeholder:"详细地址","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.address.address=e})},null,512),[[c["Q"],s.address.address]])])]),I,Object(c["j"])("div",S,[k,Object(c["j"])("div",x,[Object(c["U"])(Object(c["j"])("input",{type:"text",classs:"input-item input-detail",placeholder:"地址标签","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.address.tag=e})},null,512),[[c["Q"],s.address.tag]])])]),M])]),Object(c["U"])(Object(c["m"])(E,{onKeepDistrict:r.getDistrictFromChild,onCloseSelect:r.handleClose},null,8,["onKeepDistrict","onCloseSelect"]),[[c["R"],e.isShowSelectComponent]]),Object(c["j"])("footer",B,[Object(c["j"])("a",{href:"javascript:",class:"btn-add",onClick:t[7]||(t[7]=function(){return r.saveAddress&&r.saveAddress.apply(r,arguments)})},"保存地址")])])}var E=s("5530"),F=(s("e7e5"),s("d399")),T=s("9744"),N=s("21b5"),J=s("6c02"),Q={props:{address:{required:!0,type:Object}},components:{UserAddressSelect:T["a"]},setup:function(e,t){var s=t.emit,r=Object(c["F"])({isShowSelectComponent:!1}),n=(Object(J["d"])(),function(){s("closeForm")}),i=function(){r.isShowSelectComponent=!0},d=function(){r.isShowSelectComponent=!1},a=function(t){e.address.district=t},o=function(){var t={name:e.address.contact_name,phone:e.address.contact_phone,district:e.address.district,address:e.address.address,tag:e.address.tag};F["a"].loading("正在保存"),N["a"].updateAddress(t).then((function(e){200==e.status&&n(),F["a"].clear()}))};return Object(E["a"])(Object(E["a"])({},Object(c["N"])(r)),{},{closeForm:n,handleClose:d,getDistrictFromChild:a,showSelect:i,saveAddress:o})}},V=(s("4e5d"),s("6b0d")),D=s.n(V);const H=D()(Q,[["render",U],["__scopeId","data-v-23c4f97e"]]);t["a"]=H},"7dda":function(e,t,s){},bc38:function(e,t,s){},bf9c:function(e,t,s){}}]);
//# sourceMappingURL=chunk-98d658ac.ce33173f.js.map