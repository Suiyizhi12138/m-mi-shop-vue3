(function(e){function t(t){for(var c,r,o=t[0],s=t[1],i=t[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);l&&l(t);while(d.length)d.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],c=!0,r=1;r<n.length;r++){var o=n[r];0!==a[o]&&(c=!1)}c&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var c={},r={app:0},a={app:0},u=[];function o(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"351f470e","chunk-148f5fb4":"32fa8185","chunk-17c7bcba":"dbe41535","chunk-160e83c5":"93220730","chunk-6013c358":"27613e92","chunk-98d658ac":"ce33173f","chunk-1c913070":"bd7e140a","chunk-291863ce":"f484b5b3","chunk-2b1feb80":"48fe3d3a","chunk-2fc1347d":"2faea4fa","chunk-34027984":"22b9cec9","chunk-4a901e1c":"e658f2f9","chunk-624c5334":"f1d89a73","chunk-6a450eaa":"f56f7bf2","chunk-707cf82c":"6e546b0c","chunk-312a1527":"2a403e34","chunk-3a324382":"b33334f6","chunk-8441ce3e":"77edd30a","chunk-946806ee":"140cdb9a","chunk-f788fcfe":"60753bb6"}[e]+".js"}function s(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1,"chunk-148f5fb4":1,"chunk-17c7bcba":1,"chunk-160e83c5":1,"chunk-6013c358":1,"chunk-98d658ac":1,"chunk-1c913070":1,"chunk-291863ce":1,"chunk-2b1feb80":1,"chunk-2fc1347d":1,"chunk-34027984":1,"chunk-4a901e1c":1,"chunk-624c5334":1,"chunk-6a450eaa":1,"chunk-707cf82c":1,"chunk-312a1527":1,"chunk-3a324382":1,"chunk-8441ce3e":1,"chunk-946806ee":1,"chunk-f788fcfe":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({about:"about"}[e]||e)+"."+{about:"08e85922","chunk-148f5fb4":"5664c5b7","chunk-17c7bcba":"31c95ad4","chunk-160e83c5":"3daa078e","chunk-6013c358":"1b0519fa","chunk-98d658ac":"5b433bbf","chunk-1c913070":"d92f168f","chunk-291863ce":"981a6083","chunk-2b1feb80":"09232f36","chunk-2fc1347d":"2cb0d99f","chunk-34027984":"3697419f","chunk-4a901e1c":"5c1eac00","chunk-624c5334":"f588da4b","chunk-6a450eaa":"6517d456","chunk-707cf82c":"5588a4e3","chunk-312a1527":"76bf9b5e","chunk-3a324382":"61ae63e6","chunk-8441ce3e":"871b235b","chunk-946806ee":"c9eaa6bc","chunk-f788fcfe":"c86776b8"}[e]+".css",a=s.p+c,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var i=u[o],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===c||f===a))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){i=d[o],f=i.getAttribute("data-href");if(f===c||f===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var c=t&&t.target&&t.target.src||a,u=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=c,delete r[e],l.parentNode.removeChild(l),n(u)},l.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){r[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var u=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=u);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=o(e);var d=new Error;i=function(t){f.onerror=f.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:f})}),12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(t)},s.m=e,s.c=c,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(n,c,function(t){return e[t]}.bind(null,c));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=f;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1420:function(e,t,n){"use strict";n("c347")},"21b5":function(e,t,n){"use strict";n("99af");var c=n("bc3a"),r=n.n(c),a=n("f121"),u=a["a"].API_URL,o=a["a"].AMAP_URL,s=a["a"].AMAP_KEY_WEB,i=function(){return r.a.get(a["a"].API_URL+"/alltopcategories")},f=function(){return r.a.get(a["a"].API_URL+"/allcategories")},d=function(e){return r.a.get(a["a"].API_URL+"/product/"+e)},l=function(e){return r.a.post("".concat(u,"/login"),e)},h=function(e){return r.a.post("".concat(u,"/register"),e)},m=function(e){return r.a.get(o+"/assistant/inputtips?keywords="+e+"&subdistrict=2&key="+s)},b=function(e){return r.a.post("".concat(u,"/add"),e)},p=function(){return r.a.get("".concat(u,"/get_cart_items"))},g=function(e){return r.a.delete("".concat(u,"/delete_cart_item"),{data:{item_id:e}})},k=function(){return r.a.get("".concat(u,"/userinfo"))},_=function(){return r.a.get("".concat(u,"/user_addresses"))},y=function(){return r.a.post("".concat(u,"/logout"))},I=function(e){return r.a.post("".concat(u,"/user_address"),e)},v=function(e){return r.a.post("".concat(u,"/update_address"),e)},A=function(e){return r.a.delete("".concat(u,"/user_address"),{data:{id:e}})},S=function(e){return r.a.post("".concat(u,"/add_order"),e)},O=function(){return r.a.get("".concat(u,"/orders"))},P=function(e){return r.a.get("".concat(u,"/order/").concat(e))},L=function(e){return r.a.delete("".concat(u,"/order"),{data:{no:e}})},w=function(e){return r.a.post("".concat(u,"/pay/cost"),e)},E=function(e){return r.a.post("".concat(u,"/search-products"),{keyword:e})};t["a"]={getAllTopCategories:i,getAllCategories:f,getProduct:d,postLogin:l,postRegister:h,addToCart:b,getCartItems:p,deleteCartItem:g,getUserInfo:k,userLogOut:y,getDistrict:m,getUserAddresses:_,addAddress:I,updateAddress:v,deleteAddress:A,addOrder:S,getOrders:O,getOrder:P,deleteOrder:L,cost:w,searchByKey:E}},"56d7":function(e,t,n){"use strict";n.r(t);n("66b9");var c=n("b650"),r=(n("81e6"),n("9ffb")),a=(n("4d48"),n("d1e1")),u=(n("e17f"),n("2241")),o=(n("8a58"),n("e41f")),s=(n("ac1e"),n("543e")),i=(n("ab71"),n("58e6")),f=(n("7844"),n("5596")),d=(n("4b0a"),n("2bb1")),l=(n("4056"),n("44bf")),h=(n("66cf"),n("343b")),m=(n("0cc8"),n("3104")),b=(n("09d3"),n("2d6d")),p=(n("61ae"),n("d314")),g=(n("a44c"),n("e27c")),k=(n("4ddd"),n("9f14")),_=(n("e7e5"),n("d399")),y=(n("db2c"),n("1125")),I=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("5319"),n("d3b7"),n("7a23"));function v(e,t,n,c,r,a){var u=Object(I["I"])("router-view");return Object(I["B"])(),Object(I["g"])(u)}var A={created:function(){this.$store.dispatch("checkUserLoginStatus"),localStorage.getItem("_user_token")&&(this.$store.dispatch("getCartItems"),this.$store.getters.userInfo||this.$store.dispatch("getUserInfo"))}},S=(n("1420"),n("6b0d")),O=n.n(S);const P=O()(A,[["render",v]]);var L=P,w=(n("3ca3"),n("ddb0"),n("6c02")),E=function(e){localStorage.getItem("_user_token")?e():e({name:"user_login"})},j=[{path:"/",name:"home",redirect:"/home",component:function(){return n.e("chunk-34027984").then(n.bind(null,"f4a9"))},meta:{title:"小米Demo"},children:[{path:"home",name:"_home",component:function(){return n.e("chunk-2fc1347d").then(n.bind(null,"bb83"))}},{path:"category",name:"category",component:function(){return n.e("chunk-946806ee").then(n.bind(null,"2f89"))},meta:{title:"分类"}},{path:"user",name:"user",component:function(){return n.e("chunk-1c913070").then(n.bind(null,"1010"))},meta:{title:"用户中心"}},{path:"mi-blog",name:"mi_blog",component:function(){return n.e("chunk-148f5fb4").then(n.bind(null,"54ea"))}},{path:"/search/list",name:"search_list",component:function(){return n.e("chunk-6a450eaa").then(n.bind(null,"0354"))},meta:{title:"搜索结果"}}]},{path:"/test",name:"test",component:function(){return n.e("about").then(n.bind(null,"78c1"))},meta:{title:"测试页"}},{path:"/cart",name:"cart",component:function(){return n.e("chunk-291863ce").then(n.bind(null,"678b"))},meta:{title:"购物车"}},{path:"/search",name:"search",component:function(){return n.e("chunk-624c5334").then(n.bind(null,"1b29"))},meta:{title:"搜索商品"}},{path:"/product/:id",name:"product",component:function(){return n.e("chunk-2b1feb80").then(n.bind(null,"105b"))},meta:{title:"商品详情页"}},{path:"/user/login",name:"user_login",component:function(){return Promise.all([n.e("chunk-707cf82c"),n.e("chunk-3a324382")]).then(n.bind(null,"de78"))},meta:{title:"登录"}},{path:"/user/set",name:"user_set",component:function(){return n.e("chunk-8441ce3e").then(n.bind(null,"7573"))},meta:{title:"个人中心"},beforeEnter:function(e,t,n){E(n)}},{path:"/user/address",name:"user_address",component:function(){return Promise.all([n.e("chunk-17c7bcba"),n.e("chunk-6013c358")]).then(n.bind(null,"7555"))},meta:{title:"收货地址管理"}},{path:"/user/address/new",name:"new_address",component:function(){return Promise.all([n.e("chunk-17c7bcba"),n.e("chunk-160e83c5")]).then(n.bind(null,"f4e5"))},meta:{title:"添加新的收货地址"}},{path:"/user/register",name:"user_register",component:function(){return Promise.all([n.e("chunk-707cf82c"),n.e("chunk-312a1527")]).then(n.bind(null,"33b8"))},meta:{title:"注册"}},{path:"/order",name:"order",component:function(){return n.e("chunk-f788fcfe").then(n.bind(null,"4f4d"))},meta:{title:"我的订单"}},{path:"/check_order",name:"check_order",component:function(){return Promise.all([n.e("chunk-17c7bcba"),n.e("chunk-98d658ac")]).then(n.bind(null,"40f3"))},meta:{title:"确认订单"},beforeEnter:function(e,t,n){E(n)}},{path:"/pay_order/:no",name:"pay_order",component:function(){return n.e("chunk-4a901e1c").then(n.bind(null,"083f"))},meta:{title:"支付订单"},beforeEnter:function(e,t,n){E(n)}}],U=Object(w["a"])({history:Object(w["b"])(),routes:j}),C=U,T=(n("e9c4"),n("159b"),n("5502")),D=n("21b5"),B=Object(T["a"])({state:{userLoginStatus:0,cartItems:[],cartTotalAmount:0,userInfo:null,selectedDistirct:"",buyItems:""},mutations:{setUserLoginStatus:function(e,t){e.userLoginStatus=t},setCartItems:function(e,t){e.cartItems=t},setUserInfo:function(e,t){e.userInfo=t},setDistrict:function(e,t){e.selectedDistirct=t},setBuyItems:function(e,t){e.buyItems=t}},actions:{checkUserLoginStatus:function(e){var t=e.commit;localStorage.getItem("_user_token")&&t("setUserLoginStatus",2)},getCartItems:function(e){var t=e.commit;localStorage.getItem("_full_cart")?t("setCartItems",JSON.parse(localStorage.getItem("_full_cart"))):D["a"].getCartItems().then((function(e){t("setCartItems",e.data)})).catch((function(e){console.log("获取购物车信息失败"+e)}))},getUserInfo:function(e){var t=e.commit;localStorage.getItem("_user_token")&&D["a"].getUserInfo().then((function(e){t("setUserInfo",e.data)})).catch((function(e){console.log(e)}))},keepSelectedDistrict:function(e,t){var n=e.commit;n("setDistrict",t)},saveBuyItems:function(e,t){var n=e.commit;n("setBuyItems",t),localStorage.setItem("_buy_items",JSON.stringify(t))}},getters:{userLoginStatus:function(e){return e.userLoginStatus},cartItems:function(e){return e.cartItems},cartTotalAmount:function(e){var t=0;return e.cartItems.forEach((function(e){t+=e.amount})),t},userInfo:function(e){return e.userInfo},selectedDistirct:function(e){return e.selectedDistirct},buyItems:function(e){return e.buyItems}}}),M=n("bc3a"),x=n.n(M);n("a1c5");C.beforeEach((function(e,t,n){e.meta.title&&(document.title=e.meta.title,n())})),C.afterEach((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0})),localStorage.getItem("_user_token")&&(x.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("_user_token"),x.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response)switch(e.response.status){case 401:C.replace({path:"/user/login"})}return Promise.reject(e.response)}))),Object(I["f"])(L).use(c["b"]).use(r["a"]).use(a["a"]).use(u["a"]).use(o["b"]).use(s["b"]).use(i["a"]).use(f["a"]).use(d["a"]).use(l["a"]).use(h["a"]).use(m["a"]).use(b["a"]).use(p["a"]).use(g["a"]).use(k["a"]).use(_["a"]).use(y["a"]).use(B).use(C).mount("#app")},c347:function(e,t,n){},f121:function(e,t,n){"use strict";var c="http://m.efront.top/index.php/api",r="http://m.eftont.top",a="/v3",u="56f660b153d242ab5dd813d5498b1074";t["a"]={API_URL:c,DOMAIN:r,AMAP_URL:a,AMAP_KEY_WEB:u}}});
//# sourceMappingURL=app.9cdd2e94.js.map